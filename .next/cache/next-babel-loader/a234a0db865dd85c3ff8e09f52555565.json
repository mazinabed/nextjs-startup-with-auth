{"ast":null,"code":"import Auth from '../../../util/auth';\nexport default async function (req, res) {\n  if (!Auth(req, res)) return;\n  const user = await db.user.findOne({\n    where: {\n      email: req.body.email\n    }\n  }).then(user => {\n    if (user) {\n      res.json(user);\n    } else {\n      res.send('User does not exist');\n    }\n  }).catch(err => {\n    res.send('error: ' + err);\n  });\n}","map":{"version":3,"sources":["/Users/mazinabed/Desktop/nextjs-startup-with-auth/src/pages/api/profile.js"],"names":["Auth","req","res","user","db","findOne","where","email","body","then","json","send","catch","err"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,oBAAjB;AAEA,eAAe,gBAAgBC,GAAhB,EAAqBC,GAArB,EAAyB;AACpC,MAAG,CAACF,IAAI,CAACC,GAAD,EAAMC,GAAN,CAAR,EAAoB;AAEpB,QAAMC,IAAI,GAAG,MAAMC,EAAE,CAACD,IAAH,CAAQE,OAAR,CAAgB;AAC/BC,IAAAA,KAAK,EAAC;AACFC,MAAAA,KAAK,EAAEN,GAAG,CAACO,IAAJ,CAASD;AADd;AADyB,GAAhB,EAKdE,IALc,CAKTN,IAAI,IAAI;AACZ,QAAIA,IAAJ,EAAU;AACRD,MAAAA,GAAG,CAACQ,IAAJ,CAASP,IAAT;AACD,KAFD,MAEO;AACLD,MAAAA,GAAG,CAACS,IAAJ,CAAS,qBAAT;AACD;AACF,GAXc,EAYdC,KAZc,CAYRC,GAAG,IAAI;AACZX,IAAAA,GAAG,CAACS,IAAJ,CAAS,YAAYE,GAArB;AACD,GAdc,CAAnB;AAeC","sourcesContent":["import Auth from '../../../util/auth'\n\nexport default async function (req, res){\n    if(!Auth(req, res)) return;\n\n    const user = await db.user.findOne({\n        where:{\n            email: req.body.email,\n        }\n    })\n        .then(user => {\n          if (user) {\n            res.json(user)\n          } else {\n            res.send('User does not exist')\n          }\n        })\n        .catch(err => {\n          res.send('error: ' + err)\n        })\n    }\n    \n\n\n\n"]},"metadata":{},"sourceType":"module"}