{"ast":null,"code":"\"use strict\";\n\nconst user = require('../models');\n\nvar fs = require(\"fs\");\n\nvar path = require(\"path\");\n\nvar Sequelize = require(\"sequelize\");\n\nvar basename = path.basename(__filename);\nvar env = \"development\" || \"development\";\n\nvar config = require(__dirname + \"/../config/config.json\")[env];\n\nvar db = {};\n\nif (config.use_env_variable) {\n  var sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  var sequelize = new Sequelize(process.env.database, process.env.username, process.env.password, config);\n}\n\nfs.readdirSync(__dirname).filter(file => {\n  return file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\";\n}).forEach(file => {\n  var model = sequelize[\"import\"](path.join(__dirname, file));\n  db[model.name] = model;\n});\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;","map":{"version":3,"sources":["/Users/mazinabed/Desktop/nextjs-startup-with-auth/models/index.js"],"names":["user","require","fs","path","Sequelize","basename","__filename","env","config","__dirname","db","use_env_variable","sequelize","process","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","name","Object","keys","modelName","associate","module","exports"],"mappings":"AAAA;;AACA,MAAMA,IAAI,GAAGC,OAAO,CAAE,WAAF,CAApB;;AACA,IAAIC,EAAE,GAAGD,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIE,IAAI,GAAGF,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIG,SAAS,GAAGH,OAAO,CAAC,WAAD,CAAvB;;AACA,IAAII,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAf;AACA,IAAIC,GAAG,GAAG,iBAAwB,aAAlC;;AACA,IAAIC,MAAM,GAAGP,OAAO,CAACQ,SAAS,GAAG,wBAAb,CAAP,CAA8CF,GAA9C,CAAb;;AACA,IAAIG,EAAE,GAAG,EAAT;;AAEA,IAAIF,MAAM,CAACG,gBAAX,EAA6B;AAC3B,MAAIC,SAAS,GAAG,IAAIR,SAAJ,CAAcS,OAAO,CAACN,GAAR,CAAYC,MAAM,CAACG,gBAAnB,CAAd,EAAoDH,MAApD,CAAhB;AACD,CAFD,MAEO;AACL,MAAII,SAAS,GAAG,IAAIR,SAAJ,CAAcS,OAAO,CAACN,GAAR,CAAYO,QAA1B,EAAoCD,OAAO,CAACN,GAAR,CAAYQ,QAAhD,EAA0DF,OAAO,CAACN,GAAR,CAAYS,QAAtE,EAAgFR,MAAhF,CAAhB;AACD;;AAGDN,EAAE,CACCe,WADH,CACeR,SADf,EAEGS,MAFH,CAEUC,IAAI,IAAI;AACd,SAAQA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAvB,IAA8BD,IAAI,KAAKd,QAAvC,IAAqDc,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KAA/E;AACD,CAJH,EAKGC,OALH,CAKWH,IAAI,IAAI;AACf,MAAII,KAAK,GAAGX,SAAS,CAAC,QAAD,CAAT,CAAoBT,IAAI,CAACqB,IAAL,CAAUf,SAAV,EAAqBU,IAArB,CAApB,CAAZ;AACAT,EAAAA,EAAE,CAACa,KAAK,CAACE,IAAP,CAAF,GAAiBF,KAAjB;AACD,CARH;AAUAG,MAAM,CAACC,IAAP,CAAYjB,EAAZ,EAAgBY,OAAhB,CAAwBM,SAAS,IAAI;AACnC,MAAIlB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;AAC3BnB,IAAAA,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAd,CAAwBnB,EAAxB;AACD;AACF,CAJD;AAMAA,EAAE,CAACE,SAAH,GAAeA,SAAf;AACAF,EAAE,CAACN,SAAH,GAAeA,SAAf;AAEA0B,MAAM,CAACC,OAAP,GAAiBrB,EAAjB","sourcesContent":["\"use strict\";\nconst user = require ('../models')\nvar fs = require(\"fs\");\nvar path = require(\"path\");\nvar Sequelize = require(\"sequelize\");\nvar basename = path.basename(__filename);\nvar env = process.env.NODE_ENV || \"development\";\nvar config = require(__dirname + \"/../config/config.json\")[env];\nvar db = {};\n\nif (config.use_env_variable) {\n  var sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  var sequelize = new Sequelize(process.env.database, process.env.username, process.env.password, config);\n}\n\n\nfs\n  .readdirSync(__dirname)\n  .filter(file => {\n    return (file.indexOf(\".\") !== 0) && (file !== basename) && (file.slice(-3) === \".js\");\n  })\n  .forEach(file => {\n    var model = sequelize[\"import\"](path.join(__dirname, file));\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;"]},"metadata":{},"sourceType":"script"}